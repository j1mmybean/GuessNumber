<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <style>
        .main-box {
            background-color:antiquewhite;
            margin: 50px auto;
            width: 800px;
            height: 400px;
            padding: 50px;
            box-shadow: 5px 5px 10px #999;
            border: 1px solid #fff;
            text-align: center;
            font-size: 1.3em;
        }
    </style>

</head>
<body>
    <div class="main-box">
        <h1>猜數字遊戲</h1>
        <label></label>
        <button onclick="reset()">重啟遊戲</button>
        <hr />
        <input type="text" id="number1" size="5" />
        <input type="text" id="number2" size="5" />
        <input type="text" id="number3" size="5" />
        <input type="text" id="number4" size="5" />
        <input type="text" id="number5" size="5" />
        <br />
        <button onclick="guess()">檢視猜測結果</button>
        <br />
        <label id="result"></label>
        <hr />
        <button onclick="showAndHide()">莊家數字</button>
        <br />  
        <label id="answer"></label>
    </div>
    <script>
        function start() {
            var answer = new Array();
            for (let i = 0; i < 5; i++) {
                let num = 0;
                do {
                    num = Math.floor(Math.random() * 10);
                } while (answer.includes(num));
                answer.push(num);
            }
            console.log(answer.sort());
            return answer;
        }
        var answer = start();

        function reset() {
            answer = start();
            for (let i = 1; i <= 5; i++) {
                document.getElementById(`number${i}`).value = "";
            }
        }

        function guess() {
			let numbers = new Array();
            for (let i = 1; i <= 5; i++) {
                let num = parseInt(document.getElementById(`number${i}`).value);
				if (!numbers.includes(num)) {
				    numbers.push(num);
				}
			}
            let count = 0;
            let correctNumbers = new Array();
            for (let n of numbers) {
                if (answer.includes(n)) {
                    correctNumbers.push(n);
                    count++;
				}
            }
            document.getElementById("result").innerHTML = `共猜對${count}個數字，分別為${correctNumbers.sort()}`;
        }
        
        function showAndHide() {
			answerNumbers = document.getElementById("answer").innerHTML
			if (answerNumbers == "") {
				document.getElementById("answer").innerHTML = `${answer}`;
            }
			else {
				document.getElementById("answer").innerHTML = "";
			}
        }
    </script>
</body>
</html>